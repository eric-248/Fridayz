{"ast":null,"code":"'use strict';\n\n/*!\n * ignore\n */\nmodule.exports = function validateBeforeSave(schema) {\n  const unshift = true;\n  schema.pre('save', false, function validateBeforeSave(next, options) {\n    const _this = this;\n    // Nested docs have their own presave\n    if (this.$isSubdocument) {\n      return next();\n    }\n    const hasValidateBeforeSaveOption = options && typeof options === 'object' && 'validateBeforeSave' in options;\n    let shouldValidate;\n    if (hasValidateBeforeSaveOption) {\n      shouldValidate = !!options.validateBeforeSave;\n    } else {\n      shouldValidate = this.$__schema.options.validateBeforeSave;\n    }\n\n    // Validate\n    if (shouldValidate) {\n      const hasValidateModifiedOnlyOption = options && typeof options === 'object' && 'validateModifiedOnly' in options;\n      const validateOptions = hasValidateModifiedOnlyOption ? {\n        validateModifiedOnly: options.validateModifiedOnly\n      } : null;\n      this.$validate(validateOptions).then(() => {\n        this.$op = 'save';\n        next();\n      }, error => {\n        _this.$__schema.s.hooks.execPost('save:error', _this, [_this], {\n          error: error\n        }, function (error) {\n          _this.$op = 'save';\n          next(error);\n        });\n      });\n    } else {\n      next();\n    }\n  }, null, unshift);\n};","map":{"version":3,"names":["module","exports","validateBeforeSave","schema","unshift","pre","next","options","_this","$isSubdocument","hasValidateBeforeSaveOption","shouldValidate","$__schema","hasValidateModifiedOnlyOption","validateOptions","validateModifiedOnly","$validate","then","$op","error","s","hooks","execPost"],"sources":["C:/Users/lrmir/OneDrive/Desktop/cs35L/newFridayz/Fridayz/frontend/node_modules/mongoose/lib/plugins/validateBeforeSave.js"],"sourcesContent":["'use strict';\n\n/*!\n * ignore\n */\n\nmodule.exports = function validateBeforeSave(schema) {\n  const unshift = true;\n  schema.pre('save', false, function validateBeforeSave(next, options) {\n    const _this = this;\n    // Nested docs have their own presave\n    if (this.$isSubdocument) {\n      return next();\n    }\n\n    const hasValidateBeforeSaveOption = options &&\n        (typeof options === 'object') &&\n        ('validateBeforeSave' in options);\n\n    let shouldValidate;\n    if (hasValidateBeforeSaveOption) {\n      shouldValidate = !!options.validateBeforeSave;\n    } else {\n      shouldValidate = this.$__schema.options.validateBeforeSave;\n    }\n\n    // Validate\n    if (shouldValidate) {\n      const hasValidateModifiedOnlyOption = options &&\n          (typeof options === 'object') &&\n          ('validateModifiedOnly' in options);\n      const validateOptions = hasValidateModifiedOnlyOption ?\n        { validateModifiedOnly: options.validateModifiedOnly } :\n        null;\n      this.$validate(validateOptions).then(\n        () => {\n          this.$op = 'save';\n          next();\n        },\n        error => {\n          _this.$__schema.s.hooks.execPost('save:error', _this, [_this], { error: error }, function(error) {\n            _this.$op = 'save';\n            next(error);\n          });\n        }\n      );\n    } else {\n      next();\n    }\n  }, null, unshift);\n};\n"],"mappings":"AAAA,YAAY;;AAEZ;AACA;AACA;AAEAA,MAAM,CAACC,OAAO,GAAG,SAASC,kBAAkBA,CAACC,MAAM,EAAE;EACnD,MAAMC,OAAO,GAAG,IAAI;EACpBD,MAAM,CAACE,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,SAASH,kBAAkBA,CAACI,IAAI,EAAEC,OAAO,EAAE;IACnE,MAAMC,KAAK,GAAG,IAAI;IAClB;IACA,IAAI,IAAI,CAACC,cAAc,EAAE;MACvB,OAAOH,IAAI,CAAC,CAAC;IACf;IAEA,MAAMI,2BAA2B,GAAGH,OAAO,IACtC,OAAOA,OAAO,KAAK,QAAS,IAC5B,oBAAoB,IAAIA,OAAQ;IAErC,IAAII,cAAc;IAClB,IAAID,2BAA2B,EAAE;MAC/BC,cAAc,GAAG,CAAC,CAACJ,OAAO,CAACL,kBAAkB;IAC/C,CAAC,MAAM;MACLS,cAAc,GAAG,IAAI,CAACC,SAAS,CAACL,OAAO,CAACL,kBAAkB;IAC5D;;IAEA;IACA,IAAIS,cAAc,EAAE;MAClB,MAAME,6BAA6B,GAAGN,OAAO,IACxC,OAAOA,OAAO,KAAK,QAAS,IAC5B,sBAAsB,IAAIA,OAAQ;MACvC,MAAMO,eAAe,GAAGD,6BAA6B,GACnD;QAAEE,oBAAoB,EAAER,OAAO,CAACQ;MAAqB,CAAC,GACtD,IAAI;MACN,IAAI,CAACC,SAAS,CAACF,eAAe,CAAC,CAACG,IAAI,CAClC,MAAM;QACJ,IAAI,CAACC,GAAG,GAAG,MAAM;QACjBZ,IAAI,CAAC,CAAC;MACR,CAAC,EACDa,KAAK,IAAI;QACPX,KAAK,CAACI,SAAS,CAACQ,CAAC,CAACC,KAAK,CAACC,QAAQ,CAAC,YAAY,EAAEd,KAAK,EAAE,CAACA,KAAK,CAAC,EAAE;UAAEW,KAAK,EAAEA;QAAM,CAAC,EAAE,UAASA,KAAK,EAAE;UAC/FX,KAAK,CAACU,GAAG,GAAG,MAAM;UAClBZ,IAAI,CAACa,KAAK,CAAC;QACb,CAAC,CAAC;MACJ,CACF,CAAC;IACH,CAAC,MAAM;MACLb,IAAI,CAAC,CAAC;IACR;EACF,CAAC,EAAE,IAAI,EAAEF,OAAO,CAAC;AACnB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}