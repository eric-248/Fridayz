{"ast":null,"code":"'use strict';\n\nconst cleanPositionalOperators = require('../schema/cleanPositionalOperators');\nconst handleTimestampOption = require('../schema/handleTimestampOption');\nmodule.exports = applyTimestampsToChildren;\n\n/*!\n * ignore\n */\n\nfunction applyTimestampsToChildren(now, update, schema) {\n  if (update == null) {\n    return;\n  }\n  const keys = Object.keys(update);\n  const hasDollarKey = keys.some(key => key[0] === '$');\n  if (hasDollarKey) {\n    if (update.$push) {\n      _applyTimestampToUpdateOperator(update.$push);\n    }\n    if (update.$addToSet) {\n      _applyTimestampToUpdateOperator(update.$addToSet);\n    }\n    if (update.$set != null) {\n      const keys = Object.keys(update.$set);\n      for (const key of keys) {\n        applyTimestampsToUpdateKey(schema, key, update.$set, now);\n      }\n    }\n    if (update.$setOnInsert != null) {\n      const keys = Object.keys(update.$setOnInsert);\n      for (const key of keys) {\n        applyTimestampsToUpdateKey(schema, key, update.$setOnInsert, now);\n      }\n    }\n  }\n  const updateKeys = Object.keys(update).filter(key => key[0] !== '$');\n  for (const key of updateKeys) {\n    applyTimestampsToUpdateKey(schema, key, update, now);\n  }\n  function _applyTimestampToUpdateOperator(op) {\n    for (const key of Object.keys(op)) {\n      const $path = schema.path(key.replace(/\\.\\$\\./i, '.').replace(/.\\$$/, ''));\n      if (op[key] && $path && $path.$isMongooseDocumentArray && $path.schema.options.timestamps) {\n        const timestamps = $path.schema.options.timestamps;\n        const createdAt = handleTimestampOption(timestamps, 'createdAt');\n        const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n        if (op[key].$each) {\n          op[key].$each.forEach(function (subdoc) {\n            if (updatedAt != null) {\n              subdoc[updatedAt] = now;\n            }\n            if (createdAt != null) {\n              subdoc[createdAt] = now;\n            }\n            applyTimestampsToChildren(now, subdoc, $path.schema);\n          });\n        } else {\n          if (updatedAt != null) {\n            op[key][updatedAt] = now;\n          }\n          if (createdAt != null) {\n            op[key][createdAt] = now;\n          }\n          applyTimestampsToChildren(now, op[key], $path.schema);\n        }\n      }\n    }\n  }\n}\nfunction applyTimestampsToDocumentArray(arr, schematype, now) {\n  const timestamps = schematype.schema.options.timestamps;\n  const len = arr.length;\n  if (!timestamps) {\n    for (let i = 0; i < len; ++i) {\n      applyTimestampsToChildren(now, arr[i], schematype.schema);\n    }\n    return;\n  }\n  const createdAt = handleTimestampOption(timestamps, 'createdAt');\n  const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n  for (let i = 0; i < len; ++i) {\n    if (updatedAt != null) {\n      arr[i][updatedAt] = now;\n    }\n    if (createdAt != null) {\n      arr[i][createdAt] = now;\n    }\n    applyTimestampsToChildren(now, arr[i], schematype.schema);\n  }\n}\nfunction applyTimestampsToSingleNested(subdoc, schematype, now) {\n  const timestamps = schematype.schema.options.timestamps;\n  if (!timestamps) {\n    applyTimestampsToChildren(now, subdoc, schematype.schema);\n    return;\n  }\n  const createdAt = handleTimestampOption(timestamps, 'createdAt');\n  const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n  if (updatedAt != null) {\n    subdoc[updatedAt] = now;\n  }\n  if (createdAt != null) {\n    subdoc[createdAt] = now;\n  }\n  applyTimestampsToChildren(now, subdoc, schematype.schema);\n}\nfunction applyTimestampsToUpdateKey(schema, key, update, now) {\n  // Replace positional operator `$` and array filters `$[]` and `$[.*]`\n  const keyToSearch = cleanPositionalOperators(key);\n  const path = schema.path(keyToSearch);\n  if (!path) {\n    return;\n  }\n  const parentSchemaTypes = [];\n  const pieces = keyToSearch.split('.');\n  for (let i = pieces.length - 1; i > 0; --i) {\n    const s = schema.path(pieces.slice(0, i).join('.'));\n    if (s != null && (s.$isMongooseDocumentArray || s.$isSingleNested)) {\n      parentSchemaTypes.push({\n        parentPath: key.split('.').slice(0, i).join('.'),\n        parentSchemaType: s\n      });\n    }\n  }\n  if (Array.isArray(update[key]) && path.$isMongooseDocumentArray) {\n    applyTimestampsToDocumentArray(update[key], path, now);\n  } else if (update[key] && path.$isSingleNested) {\n    applyTimestampsToSingleNested(update[key], path, now);\n  } else if (parentSchemaTypes.length > 0) {\n    for (const item of parentSchemaTypes) {\n      const parentPath = item.parentPath;\n      const parentSchemaType = item.parentSchemaType;\n      const timestamps = parentSchemaType.schema.options.timestamps;\n      const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n      if (!timestamps || updatedAt == null) {\n        continue;\n      }\n      if (parentSchemaType.$isSingleNested) {\n        // Single nested is easy\n        update[parentPath + '.' + updatedAt] = now;\n      } else if (parentSchemaType.$isMongooseDocumentArray) {\n        let childPath = key.substring(parentPath.length + 1);\n        if (/^\\d+$/.test(childPath)) {\n          update[parentPath + '.' + childPath][updatedAt] = now;\n          continue;\n        }\n        const firstDot = childPath.indexOf('.');\n        childPath = firstDot !== -1 ? childPath.substring(0, firstDot) : childPath;\n        update[parentPath + '.' + childPath + '.' + updatedAt] = now;\n      }\n    }\n  } else if (path.schema != null && path.schema != schema && update[key]) {\n    const timestamps = path.schema.options.timestamps;\n    const createdAt = handleTimestampOption(timestamps, 'createdAt');\n    const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n    if (!timestamps) {\n      return;\n    }\n    if (updatedAt != null) {\n      update[key][updatedAt] = now;\n    }\n    if (createdAt != null) {\n      update[key][createdAt] = now;\n    }\n  }\n}","map":{"version":3,"names":["cleanPositionalOperators","require","handleTimestampOption","module","exports","applyTimestampsToChildren","now","update","schema","keys","Object","hasDollarKey","some","key","$push","_applyTimestampToUpdateOperator","$addToSet","$set","applyTimestampsToUpdateKey","$setOnInsert","updateKeys","filter","op","$path","path","replace","$isMongooseDocumentArray","options","timestamps","createdAt","updatedAt","$each","forEach","subdoc","applyTimestampsToDocumentArray","arr","schematype","len","length","i","applyTimestampsToSingleNested","keyToSearch","parentSchemaTypes","pieces","split","s","slice","join","$isSingleNested","push","parentPath","parentSchemaType","Array","isArray","item","childPath","substring","test","firstDot","indexOf"],"sources":["C:/Users/lrmir/OneDrive/Desktop/cs35L/newFridayz/Fridayz/frontend/node_modules/mongoose/lib/helpers/update/applyTimestampsToChildren.js"],"sourcesContent":["'use strict';\n\nconst cleanPositionalOperators = require('../schema/cleanPositionalOperators');\nconst handleTimestampOption = require('../schema/handleTimestampOption');\n\nmodule.exports = applyTimestampsToChildren;\n\n/*!\n * ignore\n */\n\nfunction applyTimestampsToChildren(now, update, schema) {\n  if (update == null) {\n    return;\n  }\n\n  const keys = Object.keys(update);\n  const hasDollarKey = keys.some(key => key[0] === '$');\n\n  if (hasDollarKey) {\n    if (update.$push) {\n      _applyTimestampToUpdateOperator(update.$push);\n    }\n    if (update.$addToSet) {\n      _applyTimestampToUpdateOperator(update.$addToSet);\n    }\n    if (update.$set != null) {\n      const keys = Object.keys(update.$set);\n      for (const key of keys) {\n        applyTimestampsToUpdateKey(schema, key, update.$set, now);\n      }\n    }\n    if (update.$setOnInsert != null) {\n      const keys = Object.keys(update.$setOnInsert);\n      for (const key of keys) {\n        applyTimestampsToUpdateKey(schema, key, update.$setOnInsert, now);\n      }\n    }\n  }\n\n  const updateKeys = Object.keys(update).filter(key => key[0] !== '$');\n  for (const key of updateKeys) {\n    applyTimestampsToUpdateKey(schema, key, update, now);\n  }\n\n  function _applyTimestampToUpdateOperator(op) {\n    for (const key of Object.keys(op)) {\n      const $path = schema.path(key.replace(/\\.\\$\\./i, '.').replace(/.\\$$/, ''));\n      if (op[key] &&\n          $path &&\n          $path.$isMongooseDocumentArray &&\n          $path.schema.options.timestamps) {\n        const timestamps = $path.schema.options.timestamps;\n        const createdAt = handleTimestampOption(timestamps, 'createdAt');\n        const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n        if (op[key].$each) {\n          op[key].$each.forEach(function(subdoc) {\n            if (updatedAt != null) {\n              subdoc[updatedAt] = now;\n            }\n            if (createdAt != null) {\n              subdoc[createdAt] = now;\n            }\n\n            applyTimestampsToChildren(now, subdoc, $path.schema);\n          });\n        } else {\n          if (updatedAt != null) {\n            op[key][updatedAt] = now;\n          }\n          if (createdAt != null) {\n            op[key][createdAt] = now;\n          }\n\n          applyTimestampsToChildren(now, op[key], $path.schema);\n        }\n      }\n    }\n  }\n}\n\nfunction applyTimestampsToDocumentArray(arr, schematype, now) {\n  const timestamps = schematype.schema.options.timestamps;\n\n  const len = arr.length;\n\n  if (!timestamps) {\n    for (let i = 0; i < len; ++i) {\n      applyTimestampsToChildren(now, arr[i], schematype.schema);\n    }\n    return;\n  }\n\n  const createdAt = handleTimestampOption(timestamps, 'createdAt');\n  const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n  for (let i = 0; i < len; ++i) {\n    if (updatedAt != null) {\n      arr[i][updatedAt] = now;\n    }\n    if (createdAt != null) {\n      arr[i][createdAt] = now;\n    }\n\n    applyTimestampsToChildren(now, arr[i], schematype.schema);\n  }\n}\n\nfunction applyTimestampsToSingleNested(subdoc, schematype, now) {\n  const timestamps = schematype.schema.options.timestamps;\n  if (!timestamps) {\n    applyTimestampsToChildren(now, subdoc, schematype.schema);\n    return;\n  }\n\n  const createdAt = handleTimestampOption(timestamps, 'createdAt');\n  const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n  if (updatedAt != null) {\n    subdoc[updatedAt] = now;\n  }\n  if (createdAt != null) {\n    subdoc[createdAt] = now;\n  }\n\n  applyTimestampsToChildren(now, subdoc, schematype.schema);\n}\n\nfunction applyTimestampsToUpdateKey(schema, key, update, now) {\n  // Replace positional operator `$` and array filters `$[]` and `$[.*]`\n  const keyToSearch = cleanPositionalOperators(key);\n  const path = schema.path(keyToSearch);\n  if (!path) {\n    return;\n  }\n\n  const parentSchemaTypes = [];\n  const pieces = keyToSearch.split('.');\n  for (let i = pieces.length - 1; i > 0; --i) {\n    const s = schema.path(pieces.slice(0, i).join('.'));\n    if (s != null &&\n      (s.$isMongooseDocumentArray || s.$isSingleNested)) {\n      parentSchemaTypes.push({ parentPath: key.split('.').slice(0, i).join('.'), parentSchemaType: s });\n    }\n  }\n\n  if (Array.isArray(update[key]) && path.$isMongooseDocumentArray) {\n    applyTimestampsToDocumentArray(update[key], path, now);\n  } else if (update[key] && path.$isSingleNested) {\n    applyTimestampsToSingleNested(update[key], path, now);\n  } else if (parentSchemaTypes.length > 0) {\n    for (const item of parentSchemaTypes) {\n      const parentPath = item.parentPath;\n      const parentSchemaType = item.parentSchemaType;\n      const timestamps = parentSchemaType.schema.options.timestamps;\n      const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n\n      if (!timestamps || updatedAt == null) {\n        continue;\n      }\n\n      if (parentSchemaType.$isSingleNested) {\n        // Single nested is easy\n        update[parentPath + '.' + updatedAt] = now;\n      } else if (parentSchemaType.$isMongooseDocumentArray) {\n        let childPath = key.substring(parentPath.length + 1);\n\n        if (/^\\d+$/.test(childPath)) {\n          update[parentPath + '.' + childPath][updatedAt] = now;\n          continue;\n        }\n\n        const firstDot = childPath.indexOf('.');\n        childPath = firstDot !== -1 ? childPath.substring(0, firstDot) : childPath;\n\n        update[parentPath + '.' + childPath + '.' + updatedAt] = now;\n      }\n    }\n  } else if (path.schema != null && path.schema != schema && update[key]) {\n    const timestamps = path.schema.options.timestamps;\n    const createdAt = handleTimestampOption(timestamps, 'createdAt');\n    const updatedAt = handleTimestampOption(timestamps, 'updatedAt');\n\n    if (!timestamps) {\n      return;\n    }\n\n    if (updatedAt != null) {\n      update[key][updatedAt] = now;\n    }\n    if (createdAt != null) {\n      update[key][createdAt] = now;\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}